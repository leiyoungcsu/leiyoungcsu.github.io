<!DOCTYPE html>
<html lang='en'><head>
  <title>Gonotes - Ashes Of Time Redux</title>
  <link rel='canonical' href='https://leiyoungcsu.github.io/post/gonotes/' />
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1' />
  <meta name='description' content='' />
  <meta name='theme-color' content='#FD3519' />
  

  <meta name="generator" content="Hugo 0.55.5" />

  





<link rel="stylesheet" href="https://leiyoungcsu.github.io/sass/style.min.8a1658d134a4b54730b66789206b2cf14c1b006a6de3f3fde6302f925b6e01f5.css" integrity="sha256-ihZY0TSktUcwtmeJIGss8UwbAGpt4/P95jAvkltuAfU=" media="screen">
<link rel="stylesheet" href="https://leiyoungcsu.github.io/syntax.min.css" integrity="" media="screen">

  <meta property="og:title" content="Gonotes" />
<meta property="og:description" content="Goè¯­è¨€æ˜¯webæ—¶ä»£çš„Cè¯­è¨€
 åœ¨Goä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡typeæ¥å®šä¹‰å®ƒï¼Œå®ƒçš„ç±»å‹å°±æ˜¯æ‰€æœ‰æ‹¥æœ‰ç›¸åŒçš„å‚æ•°ï¼Œç›¸åŒçš„è¿”å›å€¼çš„ä¸€ç§ç±»å‹ã€‚
// main project main.go package main import ( &quot;fmt&quot; ) type testInt func(int) bool//å£°æ˜ä¸€ä¸ªå‡½æ•°åŸå‹ func isOdd(integer int) bool {//å¥‡æ•° if integer%2 == 0 { return false } return true } func isEven(integer int) bool {//å¶æ•° if integer%2 == 0 { return true } return false } func filter(slice []int, f testInt) []int { var result []int for _, value := range slice { if f(value) { result = append(result, value) } } return result } func main() { slice := []int{1, 2, 3, 4, 5, 7} fmt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leiyoungcsu.github.io/post/gonotes/" />
<meta property="article:published_time" content="2019-05-14T15:26:19&#43;08:00"/>
<meta property="article:modified_time" content="2019-05-14T15:26:19&#43;08:00"/>

  
<meta itemprop="name" content="Gonotes">
<meta itemprop="description" content="Goè¯­è¨€æ˜¯webæ—¶ä»£çš„Cè¯­è¨€
 åœ¨Goä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡typeæ¥å®šä¹‰å®ƒï¼Œå®ƒçš„ç±»å‹å°±æ˜¯æ‰€æœ‰æ‹¥æœ‰ç›¸åŒçš„å‚æ•°ï¼Œç›¸åŒçš„è¿”å›å€¼çš„ä¸€ç§ç±»å‹ã€‚
// main project main.go package main import ( &quot;fmt&quot; ) type testInt func(int) bool//å£°æ˜ä¸€ä¸ªå‡½æ•°åŸå‹ func isOdd(integer int) bool {//å¥‡æ•° if integer%2 == 0 { return false } return true } func isEven(integer int) bool {//å¶æ•° if integer%2 == 0 { return true } return false } func filter(slice []int, f testInt) []int { var result []int for _, value := range slice { if f(value) { result = append(result, value) } } return result } func main() { slice := []int{1, 2, 3, 4, 5, 7} fmt.">


<meta itemprop="datePublished" content="2019-05-14T15:26:19&#43;08:00" />
<meta itemprop="dateModified" content="2019-05-14T15:26:19&#43;08:00" />
<meta itemprop="wordCount" content="2938">



<meta itemprop="keywords" content="" />

</head>
<body>

  <header style="background-image:linear-gradient(
      rgba(0,0,0,0.4),rgba(0,0,0,0.4)
    ),url(&#39;https://leiyoungcsu.github.io/images/default-sidebar.jpg&#39;)">

  <div class="intro">
    <div class="logo-container">
      <a href="/">
        <img src='https://leiyoungcsu.github.io/images/yang.jpg' alt="Profile Posts" class="rounded-logo">
      </a>
    </div>
    <h2>Hi, I'm Yanglei ğŸ‘‹</h2>
    <h3>I'm a  Amateur</h3>
    <div class="menu">
      

        <p>
            <a href="/about/">
                less is more
            </a>
        </p>

        <p>
            <a href="/post/">
                Post
            </a>
        </p>

      
        
        <p>
            <a href="mailto:602650262" target="_blank" rel="external">
                602650262@qq.com
            </a>
        </p>
      
    </div>

  </div>

  <div class="socials">
      
  
    <a href="https://github.com/" class="social-link" target="_blank" rel="noopener" ><div class="icon">
  <svg width="35px" height="35px" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
  
  <path d="M102.679 0H12.32C5.52 0 0 5.519 0 12.321v90.358C0 109.48 5.519 115 12.321 115h90.358c6.802 0 12.321-5.519 12.321-12.321V12.32C115 5.52 109.481 0 102.679 0zM71.182 98.494c-2.156.385-2.952-.95-2.952-2.053 0-1.386.051-8.471.051-14.195 0-4.005-1.335-6.546-2.9-7.881C74.878 73.313 84.89 72.003 84.89 55.6c0-4.671-1.669-7.007-4.39-10.01.436-1.105 1.9-5.648-.436-11.552-3.568-1.104-11.731 4.595-11.731 4.595-3.389-.95-7.06-1.438-10.679-1.438-3.62 0-7.29.488-10.679 1.438 0 0-8.163-5.699-11.73-4.595-2.337 5.878-.899 10.422-.437 11.551-2.72 3.004-4.004 5.34-4.004 10.011 0 16.326 9.574 17.712 19.072 18.765-1.232 1.104-2.336 3.003-2.72 5.724-2.44 1.104-8.677 3.004-12.4-3.568-2.335-4.056-6.545-4.39-6.545-4.39-4.159-.05-.282 2.619-.282 2.619 2.772 1.283 4.723 6.212 4.723 6.212 2.49 7.624 14.4 5.057 14.4 5.057 0 3.568.052 9.37.052 10.422 0 1.104-.77 2.438-2.952 2.053C27.21 92.821 15.35 76.701 15.35 57.86c0-23.564 18.02-41.456 41.585-41.456s42.663 17.892 42.663 41.456c.026 18.842-11.474 34.988-28.416 40.635zM46 82.81c-.488.103-.95-.102-1.001-.436-.051-.385.282-.719.77-.822.488-.05.95.154 1.001.488.077.334-.257.668-.77.77zm-2.439-.23c0 .333-.385.615-.898.615-.565.052-.95-.23-.95-.616 0-.333.385-.616.899-.616.487-.051.95.231.95.616zm-3.516-.283c-.103.334-.616.488-1.053.334-.488-.103-.821-.488-.719-.822.103-.334.617-.488 1.053-.385.513.154.847.54.719.873zm-3.158-1.386c-.23.282-.718.23-1.104-.154-.385-.334-.487-.822-.23-1.053.23-.282.718-.23 1.103.154.334.334.462.847.231 1.053zm-2.336-2.336c-.23.154-.667 0-.95-.385-.282-.385-.282-.822 0-1.001.283-.231.72-.052.95.333.283.385.283.847 0 1.053zm-1.668-2.49c-.231.23-.616.103-.899-.154-.282-.334-.333-.719-.102-.899.23-.23.616-.102.898.154.282.334.334.72.103.899zm-1.72-1.9c-.103.231-.436.283-.719.103-.334-.154-.488-.436-.385-.667.103-.154.385-.231.719-.103.334.18.488.462.385.667z"/>
  
  </svg>
</div>
</a>
  

  
    <a href="https://www.linkedin.com/in/" class="social-link" target="_blank" rel="noopener" ><div class="icon">
  <svg width="35px" height="35px" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
  
  <path d="M106.786 0H8.189C3.67 0 0 3.722 0 8.291v98.418C0 111.278 3.67 115 8.189 115h98.597c4.518 0 8.214-3.722 8.214-8.291V8.29C115 3.722 111.304 0 106.786 0zm-72.03 98.571H17.713V43.69h17.07V98.57h-.025zm-8.522-62.377c-5.467 0-9.882-4.44-9.882-9.883 0-5.442 4.415-9.882 9.882-9.882 5.442 0 9.883 4.44 9.883 9.882a9.87 9.87 0 0 1-9.883 9.883zm72.414 62.377H81.604V71.875c0-6.366-.129-14.555-8.856-14.555-8.882 0-10.242 6.931-10.242 14.093V98.57H45.46V43.69h16.352v7.495h.23c2.285-4.312 7.855-8.856 16.147-8.856 17.25 0 20.458 11.372 20.458 26.158V98.57z"/>
  
  </svg>
</div>
</a>
  

  
    <a href="https://twitter.com/" class="social-link" target="_blank" rel="noopener" ><div class="icon">
  <svg width="35px" height="35px" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
  
  <path d="M102.679 0H12.32C5.52 0 0 5.519 0 12.321v90.358C0 109.48 5.519 115 12.321 115h90.358c6.802 0 12.321-5.519 12.321-12.321V12.32C115 5.52 109.481 0 102.679 0zM90.126 40.763c.051.72.051 1.464.051 2.182 0 22.256-16.942 47.9-47.9 47.9-9.548 0-18.404-2.772-25.848-7.547 1.36.154 2.67.205 4.055.205 7.881 0 15.12-2.67 20.895-7.187-7.392-.154-13.604-5.006-15.735-11.68 2.593.385 4.929.385 7.598-.308a16.837 16.837 0 0 1-13.476-16.531v-.205a16.824 16.824 0 0 0 7.598 2.13 16.8 16.8 0 0 1-7.496-14.016c0-3.131.822-6.006 2.285-8.496a47.803 47.803 0 0 0 34.705 17.61c-2.387-11.424 6.161-20.69 16.429-20.69 4.851 0 9.215 2.027 12.296 5.313a32.99 32.99 0 0 0 10.678-4.056 16.792 16.792 0 0 1-7.393 9.267c3.389-.36 6.674-1.31 9.703-2.618a35.437 35.437 0 0 1-8.445 8.727z"/>
  
  </svg>
</div>
</a>
  

  </div>

</header>

  <div class="content-wrapper">
    
      <div class="breadcrumb">
  





<span >
  <a href="https://leiyoungcsu.github.io/">Ashes Of Time Redux</a>
   / 
</span>


<span >
  <a href="https://leiyoungcsu.github.io/post/">Posts</a>
   / 
</span>


<span  class="active">
  <a href="https://leiyoungcsu.github.io/post/gonotes/">Gonotes</a>
  
</span>

</div>

    
    <main id="content" class="post">

<h1>Gonotes</h1>
<div class="reading-time">
  <div class="icon">
  <svg width="18px" height="18px" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
  
  <path d="M57.5 11C29.05 11 6 34.05 6 62.5S29.05 114 57.5 114 109 90.95 109 62.5 85.95 11 57.5 11zm0 93.032c-22.947 0-41.532-18.585-41.532-41.532 0-22.947 18.585-41.532 41.532-41.532 22.947 0 41.532 18.585 41.532 41.532 0 22.947-18.585 41.532-41.532 41.532zm12.833-21.68L52.703 69.54a2.508 2.508 0 0 1-1.018-2.015V33.427a2.5 2.5 0 0 1 2.492-2.492h6.646a2.5 2.5 0 0 1 2.492 2.492v29.426l13.871 10.092c1.122.81 1.35 2.368.54 3.49l-3.904 5.377a2.51 2.51 0 0 1-3.489.54z"/>
  
  </svg>
</div>

  <span>14 minutes</span>
</div>

<div class="published-date">
  <div class="icon">
  <svg width="18px" height="18px" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
  
  <path d="M77.577 51.23a1.807 1.807 0 0 0-2.2.342l-27.562 27.79a1.807 1.807 0 0 1-2.2.342l-14.008-9.702a1.807 1.807 0 0 0-2.2.342l-1.952 1.968c-.287.22-.456.568-.455.936.001.37.172.716.46.934L45.637 86.77a1.807 1.807 0 0 0 2.2-.342l31.709-31.97c.287-.22.456-.567.455-.936a1.175 1.175 0 0 0-.46-.933l-1.963-1.36z"/><path d="M97.304 20H80.512c-.041.34-.063.683-.064 1.026a5.986 5.986 0 0 0 1.256 4.1c.054.003.103.02.157.025a4.881 4.881 0 0 1 1.865-.025c3.05.562 4.984 3.907 4.32 7.47-.666 3.563-3.678 5.996-6.728 5.433a4.932 4.932 0 0 1-2.437-1.258c-6.018-1.378-10.445-7.795-10.445-15.745 0-.347.023-.685.04-1.026H34.579c-.041.34-.063.683-.064 1.026a5.986 5.986 0 0 0 1.256 4.1c.054.003.103.02.157.025a4.881 4.881 0 0 1 1.865-.025c3.05.562 4.984 3.907 4.32 7.47-.666 3.563-3.678 5.996-6.728 5.433a4.932 4.932 0 0 1-2.437-1.258c-6.018-1.378-10.445-7.795-10.445-15.745 0-.22.019-.434.025-.652a9.788 9.788 0 0 0-5.697 4.471 9.683 9.683 0 0 0-2.65 4.764L1.158 92.871c-.965 4.689 2.6 8.503 7.948 8.503h6.334v2.673c-.077 5.41 4.263 9.861 9.705 9.953h72.16c5.438-.095 9.774-4.546 9.694-9.953V29.953c.08-5.407-4.256-9.858-9.695-9.953zM10.078 96.653c-2.378 0-3.964-1.697-3.535-3.782L16.637 43.84h80.787L87.331 92.871a5.254 5.254 0 0 1-5.091 3.782H10.078zm91.535 7.394c.036 2.403-1.891 4.382-4.308 4.424h-72.16c-2.42-.04-4.352-2.018-4.32-4.424v-2.673h60.443c5.348 0 10.484-3.814 11.449-8.503l8.897-43.215v54.391z"/><path d="M34.814 33c1.243 0 2.251-1.057 2.251-2.36 0-1.305-1.008-2.362-2.25-2.362-2.04 0-4.313-3.194-4.313-7.778s2.272-7.778 4.312-7.778c1.227 0 2.536 1.163 3.386 3.084H43C41.716 11.19 38.578 8 34.814 8 29.871 8 26 13.49 26 20.5c0 7.009 3.871 12.5 8.814 12.5z"/>
  
  </svg>
</div>

  <span>May 14, 2019</span>
</div>

<p>Goè¯­è¨€æ˜¯webæ—¶ä»£çš„Cè¯­è¨€</p>

<hr />

<blockquote>
<p>åœ¨Goä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡typeæ¥å®šä¹‰å®ƒï¼Œå®ƒçš„ç±»å‹å°±æ˜¯æ‰€æœ‰æ‹¥æœ‰ç›¸åŒçš„å‚æ•°ï¼Œç›¸åŒçš„è¿”å›å€¼çš„ä¸€ç§ç±»å‹ã€‚</p>

<pre><code>// main project main.go
package main

import (
	&quot;fmt&quot;
)

type testInt func(int) bool//å£°æ˜ä¸€ä¸ªå‡½æ•°åŸå‹

func isOdd(integer int) bool {//å¥‡æ•°
	if integer%2 == 0 {
		return false
	}
	return true
}
func isEven(integer int) bool {//å¶æ•°
	if integer%2 == 0 {
		return true
	}
	return false
}
func filter(slice []int, f testInt) []int {
	var result []int
	for _, value := range slice {
		if f(value) {
			result = append(result, value)
		}
	}
	return result
}
func main() {
	slice := []int{1, 2, 3, 4, 5, 7}
	fmt.Println(&quot;slice = &quot;, slice)
	odd := filter(slice, isOdd) // å‡½æ•°å½“åšå€¼æ¥ä¼ é€’äº†
	fmt.Println(&quot;Odd elements of slice are: &quot;, odd)
	even := filter(slice, isEven) // å‡½æ•°å½“åšå€¼æ¥ä¼ é€’äº†
	fmt.Println(&quot;Even elements of slice are: &quot;, even)
}
</code></pre>
</blockquote>

<hr />

<blockquote>
<p>GOæ­å»ºä¸€ä¸ª webæœåŠ¡å™¨
Goè¯­è¨€é‡Œé¢æä¾›äº†ä¸€ä¸ªå®Œå–„çš„net/httpåŒ…ï¼Œé€šè¿‡httpåŒ…å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°±æ­å»ºèµ·æ¥ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„webæœåŠ¡ã€‚åŒæ—¶ä½¿ç”¨è¿™ä¸ª åŒ…èƒ½å¾ˆç®€å•åœ°å¯¹webçš„è·¯ç”±ï¼Œé™æ€æ–‡ä»¶ï¼Œæ¨¡ç‰ˆï¼Œcookieç­‰æ•°æ®è¿›è¡Œè®¾ç½®å’Œæ“ä½œã€‚</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;log&quot;
	&quot;net/http&quot;
	&quot;strings&quot;
)

func sayhelloName(w http.ResponseWriter, r *http.Request) {
	r.ParseForm()       //è§£æå‚æ•°ï¼Œé»˜è®¤æ˜¯ä¸ä¼šè§£æçš„
	fmt.Println(r.Form) //è¿™äº›ä¿¡æ¯æ˜¯è¾“å‡ºåˆ°æœåŠ¡å™¨ç«¯çš„æ‰“å°ä¿¡æ¯
	fmt.Println(&quot;path&quot;, r.URL.Path)
	fmt.Println(&quot;scheme&quot;, r.URL.Scheme)
	fmt.Println(r.Form[&quot;url_long&quot;])
	for k, v := range r.Form {
		fmt.Println(&quot;key:&quot;, k)
		fmt.Println(&quot;val:&quot;, strings.Join(v, &quot;&quot;))
	}
	fmt.Fprintf(w, &quot;Hello astaxie!&quot;) //è¿™ä¸ªå†™å…¥åˆ°wçš„æ˜¯è¾“å‡ºåˆ°å®¢æˆ·ç«¯çš„
}
func main() {
	http.HandleFunc(&quot;/&quot;, sayhelloName)       //è®¾ç½®è®¿é—®çš„è·¯ç”±
	err := http.ListenAndServe(&quot;:9090&quot;, nil) //è®¾ç½®ç›‘å¬çš„ç«¯å£
	if err != nil {
		log.Fatal(&quot;ListenAndServe: &quot;, err)
	}
}
</code></pre>

<p>webå·¥ä½œæ–¹å¼çš„å‡ ä¸ªæ¦‚å¿µ
ä»¥ä¸‹å‡æ˜¯æœåŠ¡å™¨ç«¯çš„å‡ ä¸ªæ¦‚å¿µ
Requestï¼šç”¨æˆ·è¯·æ±‚çš„ä¿¡æ¯ï¼Œç”¨æ¥è§£æç”¨æˆ·çš„è¯·æ±‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬postã€getã€cookieã€urlç­‰ä¿¡æ¯
Responseï¼šæœåŠ¡å™¨éœ€è¦åé¦ˆç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯
Connï¼šç”¨æˆ·çš„æ¯æ¬¡è¯·æ±‚é“¾æ¥
Handlerï¼šå¤„ç†è¯·æ±‚å’Œç”Ÿæˆè¿”å›ä¿¡æ¯çš„å¤„ç†é€»è¾‘</p>
</blockquote>

<hr />

<blockquote>
<p>httpåŒ…æ‰§è¡Œæµç¨‹
1. åˆ›å»ºListen Socket, ç›‘å¬æŒ‡å®šçš„ç«¯å£, ç­‰å¾…å®¢æˆ·ç«¯è¯·æ±‚åˆ°æ¥ã€‚
2. Listen Socketæ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚, å¾—åˆ°Client Socket, æ¥ä¸‹æ¥é€šè¿‡Client Socketä¸å®¢æˆ·ç«¯é€šä¿¡ã€‚
3. å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚, é¦–å…ˆä»Client Socketè¯»å–HTTPè¯·æ±‚çš„åè®®å¤´,å¦‚æœæ˜¯POSTæ–¹æ³•,è¿˜å¯èƒ½è¦è¯»å–å®¢æˆ·ç«¯æäº¤çš„æ•°æ®, ç„¶åäº¤ç»™ç›¸åº”çš„handlerå¤„ç†è¯·æ±‚, handlerå¤„ç†å®Œ æ¯•å‡†å¤‡å¥½å®¢æˆ·ç«¯éœ€è¦çš„æ•°æ®, é€šè¿‡Client Socketå†™ç»™å®¢æˆ·ç«¯ã€‚</p>

<p>è¿™æ•´ä¸ªçš„è¿‡ç¨‹é‡Œé¢æˆ‘ä»¬åªè¦äº†è§£æ¸…æ¥šä¸‹é¢ä¸‰ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±çŸ¥é“Goæ˜¯å¦‚ä½•è®©Webè¿è¡Œèµ·æ¥ äº†
â€¢ å¦‚ä½•ç›‘å¬ç«¯å£ï¼Ÿ
â€¢ å¦‚ä½•æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Ÿ
â€¢ å¦‚ä½•åˆ†é…handlerï¼Ÿ</p>

<p>å‰é¢å°èŠ‚çš„ä»£ç é‡Œé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒGoæ˜¯é€šè¿‡ä¸€ä¸ªå‡½æ•°ListenAndServeæ¥å¤„ç†è¿™äº›äº‹æƒ…çš„</p>
</blockquote>

<hr />

<blockquote>
<p>è¡¨å•å¤„ç†</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;html/template&quot;
	&quot;log&quot;
	&quot;net/http&quot;
	&quot;strings&quot;
)

func sayhelloName(w http.ResponseWriter, r *http.Request) {
	r.ParseForm()       //è§£æurlä¼ é€’çš„å‚æ•°ï¼Œå¯¹äºPOSTåˆ™è§£æå“åº”åŒ…çš„ä¸»ä½“ï¼ˆrequest bodyï¼‰    //æ³¨æ„:å¦‚æœæ²¡æœ‰è°ƒç”¨ParseFormæ–¹æ³•ï¼Œä¸‹é¢æ— æ³•è·å–è¡¨å•çš„æ•°æ®
	fmt.Println(r.Form) //è¿™äº›ä¿¡æ¯æ˜¯è¾“å‡ºåˆ°æœåŠ¡å™¨ç«¯çš„æ‰“å°ä¿¡æ¯
	fmt.Println(&quot;path&quot;, r.URL.Path)
	fmt.Println(&quot;scheme&quot;, r.URL.Scheme)
	fmt.Println(r.Form[&quot;url_long&quot;])
	for k, v := range r.Form {
		fmt.Println(&quot;key:&quot;, k)
		fmt.Println(&quot;val:&quot;, strings.Join(v, &quot;&quot;))
	}
	fmt.Fprintf(w, &quot;Hello astaxie!&quot;) //è¿™ä¸ªå†™å…¥åˆ°wçš„æ˜¯è¾“å‡ºåˆ°å®¢æˆ·ç«¯çš„
}
func login(w http.ResponseWriter, r *http.Request) {
	fmt.Println(&quot;method:&quot;, r.Method) //è·å–è¯·æ±‚çš„æ–¹æ³•
	if r.Method == &quot;GET&quot; {
		t, _ := template.ParseFiles(&quot;login.gtpl&quot;)
		t.Execute(w, nil)
	} else { //è¯·æ±‚çš„æ˜¯ç™»é™†æ•°æ®ï¼Œé‚£ä¹ˆæ‰§è¡Œç™»é™†çš„é€»è¾‘åˆ¤æ–­
		fmt.Println(&quot;username:&quot;, r.Form[&quot;username&quot;])
		fmt.Println(&quot;password:&quot;, r.Form[&quot;password&quot;])
	}
}
func main() {
	http.HandleFunc(&quot;/&quot;, sayhelloName)       //è®¾ç½®è®¿é—®çš„è·¯ç”±
	http.HandleFunc(&quot;/login&quot;, login)         //è®¾ç½®è®¿é—®çš„è·¯ç”±
	err := http.ListenAndServe(&quot;:9090&quot;, nil) //è®¾ç½®ç›‘å¬çš„ç«¯å£
	if err != nil {
		log.Fatal(&quot;ListenAndServe: &quot;, err)
	}
}
</code></pre>
</blockquote>

<hr />

<p>goè¯­è¨€å®ç°crud</p>

<pre><code>package main

import (
	&quot;database/sql&quot;
	&quot;fmt&quot;
	&quot;log&quot;
	_ &quot;mysql&quot;
)

var (
	Id   string
	Name string
)

func main() {
	db, err := sql.Open(&quot;mysql&quot;, &quot;root:admin@tcp(127.0.0.1:3306)/godemo?charset=utf8&quot;)
	if err != nil {
		fmt.Println(err)
		return
	}
	defer db.Close()
	update(db)
	sqlselect(db)

	insert(db)
	fmt.Println(&quot;æ’å…¥å&quot;)
	sqlselect(db)

	delete(db)
	fmt.Println(&quot;åˆ é™¤å&quot;)
	sqlselect(db)
}

// æŸ¥è¯¢ æ•°æ®
func sqlselect(db *sql.DB) {
	rows, err := db.Query(&quot;select * from test&quot;)
	if err != nil {
		fmt.Println(&quot;æ•°æ®åº“æŸ¥è¯¢å‡ºé”™æ‰§è¡Œå‡ºé”™&quot;)
	}
	for rows.Next() {
		//æŒ‰è¡¨åçš„é¡ºåºè¯»å–å‚æ•°
		err := rows.Scan(&amp;Name, &amp;Id)
		if err != nil {
			log.Fatal(err)
		}
		fmt.Println(Name, Id)
	}
	rows.Close()
}

//æ›´æ–°
func update(db *sql.DB) {
	result, err := db.Exec(&quot;update test set Id = 1123 WHERE test.Name=?&quot;, &quot;a&quot;)
	if err != nil {
		fmt.Println(&quot;æ•°æ®åº“æ‰§è¡Œæ›´æ–°å‡ºé”™&quot;)
	}
	changelow, err := result.RowsAffected()
	if err != nil {
	}
	fmt.Println(&quot;å…±è®¡&quot;, changelow, &quot;è¡Œå—åˆ°å½±å“&quot;)
}

//INSERT INTO `go`.`test` (`Id`, `Name`) VALUES ('4', 'd');
//æ’å…¥
func insert(db *sql.DB) {
	result, err := db.Exec(&quot;INSERT test (Id, Name) VALUES (?,?)&quot;, &quot;5&quot;, &quot;e&quot;)
	if err != nil {
		fmt.Println(&quot;æ•°æ®åº“æ‰§è¡Œæ’å…¥å‡ºé”™&quot;, err)
		return
	}
	changelow, err := result.RowsAffected()
	if err != nil {

	}
	fmt.Println(&quot;å…±è®¡&quot;, changelow, &quot;è¡Œå—åˆ°å½±å“&quot;)
}

//DELETE FROM `go`.`test` WHERE `Id` = '5';
//åˆ é™¤ç¬¬5æ¡æ•°æ®
func delete(db *sql.DB) {
	result, err := db.Exec(&quot;DELETE FROM test WHERE `Id` = ?&quot;, 5)
	if err != nil {
		fmt.Println(&quot;æ•°æ®åº“æ‰§è¡Œåˆ é™¤å‡ºé”™&quot;, err)
		return
	}
	changelow, err := result.RowsAffected()
	if err != nil {

	}
	fmt.Println(&quot;å…±è®¡&quot;, changelow, &quot;è¡Œå—åˆ°å½±å“&quot;)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
å…±è®¡ 0 è¡Œå—åˆ°å½±å“
å…±è®¡ 1 è¡Œå—åˆ°å½±å“
æ’å…¥å
5 e
å…±è®¡ 1 è¡Œå—åˆ°å½±å“
åˆ é™¤å
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>cookieæœºåˆ¶æ˜¯ä¸€ç§å®¢æˆ·ç«¯æœºåˆ¶ï¼ŒæŠŠç”¨æˆ·æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œè€Œsession æœºåˆ¶æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯çš„æœºåˆ¶ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ä¸€ç§ç±»ä¼¼äºæ•£åˆ—è¡¨çš„ç»“æ„æ¥ä¿å­˜ä¿¡æ¯ï¼Œæ¯ä¸€ä¸ªç½‘ ç«™è®¿å®¢éƒ½ä¼šè¢«åˆ†é…ç»™ä¸€ä¸ªå”¯ä¸€çš„æ ‡å¿—ç¬¦,å³sessionID,å®ƒçš„å­˜æ”¾å½¢å¼æ— éä¸¤ç§:è¦ä¹ˆç»è¿‡url ä¼ é€’,è¦ä¹ˆä¿å­˜åœ¨å®¢æˆ·ç«¯çš„cookiesé‡Œã€‚</p>
</blockquote>

<hr />

<blockquote>
<p>sessionçš„åŸºæœ¬åŸç†æ˜¯ç”±æœåŠ¡å™¨ä¸ºæ¯ä¸ªä¼šè¯ç»´æŠ¤ä¸€ä»½ä¿¡æ¯æ•°æ®ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¾é ä¸€ä¸ª å…¨å±€å”¯ä¸€çš„æ ‡è¯†æ¥è®¿é—®è¿™ä»½æ•°æ®ï¼Œä»¥è¾¾åˆ°äº¤äº’çš„ç›®çš„ã€‚å½“ç”¨æˆ·è®¿é—®Webåº”ç”¨æ—¶ï¼ŒæœåŠ¡ç«¯ç¨‹ åºä¼šéšéœ€è¦åˆ›å»ºsessionï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š
â€¢ ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆsessionidï¼‰ï¼›
â€¢ å¼€è¾Ÿæ•°æ®å­˜å‚¨ç©ºé—´ã€‚ä¸€èˆ¬ä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºç›¸åº”çš„æ•°æ®ç»“æ„ï¼Œä½†è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸€ æ—¦æ‰ç”µï¼Œæ‰€æœ‰çš„ä¼šè¯æ•°æ®å°±ä¼šä¸¢å¤±ï¼Œå¦‚æœæ˜¯ç”µå­å•†åŠ¡ç±»ç½‘ç«™ï¼Œè¿™å°†é€ æˆä¸¥é‡çš„åæœã€‚æ‰€ä»¥ä¸º äº†è§£å†³è¿™ç±»é—®é¢˜ï¼Œä½ å¯ä»¥å°†ä¼šè¯æ•°æ®å†™åˆ°æ–‡ä»¶é‡Œæˆ–å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå½“ç„¶è¿™æ ·ä¼šå¢åŠ I/O å¼€é”€ï¼Œä½†æ˜¯å®ƒå¯ä»¥å®ç°æŸç§ç¨‹åº¦çš„sessionæŒä¹…åŒ–ï¼Œä¹Ÿæ›´æœ‰åˆ©äºsessionçš„å…±äº«ï¼›
â€¢ å°†sessionçš„å…¨å±€å”¯ä¸€æ ‡ç¤ºç¬¦å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p>
</blockquote>

<hr />

<blockquote>
<p>æ–¹æ³•å°±æ˜¯ä¸€ä¸ªæœ‰æ¥æ”¶è€…çš„å‡½æ•°</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

type point struct {
	x, y float64
}
type Rect struct {
	min, max point
}

func (r *Rect) Area() float64 {
	w := r.max.x - r.min.x
	h := r.max.y - r.min.y
	return w * h
}
func main() {
	var r Rect
	r.max = point{2, 9}
	r.min = point{1, 3}
	fmt.Println(r.Area())
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
6
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<pre><code>package main

import (
	&quot;fmt&quot;
)

type point struct {
	x, y float64
}
type Rect struct {
	min, max point
}

func (r *Rect) Area() float64 {
	w := r.max.x - r.min.x
	h := r.max.y - r.min.y
	return w * h
}
func main() {
	var r Rect
	r.max = point{2, 9}
	r.min = point{1, 3}
	fmt.Println(r.Area(), (&amp;r).Area(), (*Rect).Area(&amp;r))
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
6 6 6
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<p>##å¹¶å‘åŸºæœ¬æ¦‚å¿µ
&gt;å¼‚æ­¥async
å¹¶è¡Œï¼šå¤šä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œ</p>

<blockquote>
<p>åŒæ­¥sync
ä¸²è¡Œï¼šå¤šä¸ªä»»åŠ¡ä¾æ¬¡æ‰§è¡Œ</p>

<p>é˜»å¡block
æŸä¸ªå¹¶å‘ä»»åŠ¡ç”±äºæ‹¿ä¸åˆ°èµ„æºæ²¡æ³•å¹²æ´»ï¼Œä»è€Œæ— æ‰€äº‹äº‹åœ°å¹²ç­‰</p>

<p>å¼‚æ­¥å›è°ƒasync callback
Açº¿ç¨‹å”¤èµ·Bçº¿ç¨‹ï¼Œä»¤å…¶å¹²æ´»
åŒæ—¶ç»™Bä¸€ä¸ªå›è°ƒå‡½æ•°
å‘½ä»¤Båœ¨å¹²å®Œæ´»ä»¥åï¼Œæ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°
è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šä¸Açº¿ç¨‹å‘ç”Ÿäº¤äº’
Aä¸å¿…é˜»å¡ç­‰å¾…Bæ‰§è¡Œçš„ç»“æœï¼ŒABä¸¤ä¸ªçº¿ç¨‹å¯ä»¥å¹¶å‘æ‰§è¡Œ</p>

<p>æ­»é”
Aé”ä½Bçš„èµ„æº
Bé”ä½Aè¦çš„èµ„æº
ABåŒæ—¶é˜»å¡
æ¡ˆä¾‹ï¼šå°ä¸¤å£çš„å†·æˆ˜
å¥³ï¼šé”ä½å¥³äººçš„å°Šä¸¥ï¼Œå¾—åˆ°ç”·äººçš„å°Šä¸¥åæ‰é‡Šæ”¾
ç”·ï¼šé”ä½ç”·äººçš„å°Šä¸¥ï¼Œå¾—åˆ°å¥³äººçš„å°Šä¸¥åæ‰é‡Šæ”¾
çº¿ç¨‹æ± 
èƒŒæ™¯ï¼šçº¿ç¨‹çš„å¼€é”€å¤§
å†…å­˜ï¼šä¿å­˜ä¸Šä¸‹æ–‡æ•°æ®</p>
</blockquote>

<hr />

<p>#åˆ›å»ºGoroutine</p>

<pre><code>package main

import (

    &quot;fmt&quot;

    &quot;time&quot;

)

 

func newTask() {

    for {

        fmt.Println(&quot;åŠ³èµ„æ˜¯å­åç¨‹&quot;)

        time.Sleep(time.Second)

    }

}

 

func main() {

 

    //å¼€ä¸€æ¡åç¨‹ï¼Œä¸ä¸»åç¨‹å¹¶å‘åœ°æ‰§è¡ŒnewTask()

    go newTask()

 

    //ä¸»åç¨‹èµ–ç€ä¸æ­»ï¼Œä¸»åç¨‹å¦‚æœæ­»äº†ï¼Œå­åç¨‹ä¹Ÿå¾—é™ªç€æ­»

    for {

        fmt.Println(&quot;this is a main goroutine&quot;)

        time.Sleep(time.Second)

    }

 

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
åŠ³èµ„æ˜¯å­åç¨‹
this is a main goroutine
this is a main goroutine
åŠ³èµ„æ˜¯å­åç¨‹
Â·Â·Â·</p>

<hr />

<blockquote>
<p>é€šè¿‡runtime.Gosched()å‡ºè®©åç¨‹èµ„æºï¼Œè®©å…¶ä»–åç¨‹ä¼˜å…ˆæ‰§è¡Œ</p>

<pre><code>package main

import (
	&quot;fmt&quot;

	&quot;runtime&quot;
)

func main() {

	go func() {

		for i := 0; i &lt; 5; i++ {

			fmt.Println(&quot;go&quot;)

		}

	}()

	for i := 0; i &lt; 2; i++ {

		//è®©å‡ºæ—¶é—´ç‰‡ï¼Œå…ˆè®©åˆ«çš„åç¨‹æ‰§è¡Œï¼Œå®ƒæ‰§è¡Œå®Œï¼Œå†å›æ¥æ‰§è¡Œæ­¤åç¨‹

		//ï¼ˆè©¹å§†æ–¯åç¨‹ï¼šå…ˆæ’æ¡£æœŸï¼Œä½ ä»¬å…ˆä¸Šï¼‰

		runtime.Gosched()

		fmt.Println(&quot;hello&quot;)

	}

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
go
go
go
go
go
hello
hello
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<blockquote>
<p>åç¨‹è‡ªæ€</p>

<pre><code>package main

import (
	&quot;fmt&quot;

	&quot;runtime&quot;

	&quot;time&quot;
)

func test() {

	//é—å˜±ï¼šä¸´ç»ˆå‰è¯´çš„è¯

	defer fmt.Println(&quot;è¿™æ˜¯testçš„é—å˜±&quot;)

	//è‡ªæ€ï¼Œè§¦å‘æå‰æ‰§è¡Œé—å˜±ï¼Œæš´æ¯™ï¼Œåè¾¹çš„å¥½æ—¥å­ä¸è¿‡äº†ï¼Œè°ƒç”¨å®ƒçš„åç¨‹ä¹Ÿæš´æ¯™

	runtime.Goexit()

	//è‡ªæ€äº†ï¼Œåè¾¹çš„å¥½æ—¥å­ä¸è¿‡äº†

	fmt.Println(&quot;ç”Ÿæ´»æ‰¿è¯ºçš„å¾ˆå¤šç¾å¥½äº‹æƒ…...&quot;)

	//åˆ°è¿™æ˜¯testçš„æ­£å¸¸é€€å‡º

}

func wildMan() {

	for i := 0; i &lt; 6; i++ {

		fmt.Println(&quot;æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹&quot;)

		time.Sleep(time.Second)

	}

}

func main() {

	//ä¸€ä¸ªä¼šæš´æ¯™çš„åç¨‹

	go func() {

		fmt.Println(&quot;aaaaaaaaaaaaaa&quot;)

		//testä¸­æœ‰åç¨‹è‡ªæ€ç¨‹åºruntime.Goexit()

		test()

		fmt.Println(&quot;bbbbbbbbbbbbbbb&quot;)

	}()

	//ä¸€ä¸ªè®¨åŒä¸»åç¨‹çº¦æŸçš„é‡äººåç¨‹ï¼Œä¸»åç¨‹æ­£å¸¸ç»“æŸä¼šæŠŠå¥¹å¸¦èµ°

	//å¦‚æœä¸»åç¨‹æš´æ¯™ï¼Œåˆ™é‡äººåç¨‹å¤±å»çº¦æŸ

	go wildMan()

	for i := 0; i &lt; 3; i++ {

		time.Sleep(time.Second)

	}

	//ä¸»åç¨‹çš„æš´æ¯™ï¼Œä¼šä»¤æ‰€æœ‰å­åç¨‹å¤±å»ç‰µåˆ¶â€”â€”é‡äººæ°¸è¿œå¤±å»æ§åˆ¶

	//ä¸»åç¨‹æš´æ¯™çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰€æœ‰åç¨‹éƒ½ç»“æŸäº†ï¼Œç¨‹åºå´©æºƒ:fatal error: no goroutines (main called runtime.Goexit) - deadlock!

	runtime.Goexit()

	fmt.Println(&quot;ä¸»åç¨‹æ­£å¸¸è¿”å›ï¼Œä¼šå¸¦èµ°æ‰€æœ‰å­åç¨‹&quot;)

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
aaaaaaaaaaaaaa
è¿™æ˜¯testçš„é—å˜±
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
æˆ‘æ˜¯é‡äººï¼Œæˆ‘ä¸å–œæ¬¢çº¦æŸï¼Œæˆ‘è®¨åŒåˆ¶çº¦çš„æˆ‘çš„ä¸»åç¨‹
fatal error: no goroutines (main called runtime.Goexit) - deadlock!</p>
</blockquote>

<hr />

<blockquote>
<p>åç¨‹é—´å…¬å¹³ç«äº‰</p>

<pre><code>package main

import (
	&quot;fmt&quot;

	&quot;time&quot;
)

func PrinterVII(str string) {

	for _, data := range str {

		fmt.Printf(&quot;%c&quot;, data)

		time.Sleep(time.Second)

	}

	fmt.Printf(&quot;\n&quot;)

}

func person1VII() {

	PrinterVII(&quot;ä»Šç”Ÿæ³¨å®šæˆ‘çˆ±ä½ &quot;)

}

func person2VII() {

	PrinterVII(&quot;FUCKOFF&quot;)

}

func main() {

	go person1VII()

	go person2VII()

	for {

		time.Sleep(time.Second)

	}

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
ä»ŠFUç”ŸCæ³¨Kå®šæˆ‘Oçˆ±Fä½ F</p>
</blockquote>

<hr />

<blockquote>
<p>é€šè¿‡channelå®ç°åŒæ­¥</p>

<pre><code>package main

import (
	&quot;fmt&quot;

	&quot;time&quot;
)

//è¯­æ³•ç‚¹â‘ ï¼šåˆ›å»ºintç±»å‹çš„æ— ç¼“å­˜ç®¡é“

//var ch = make(chan int)

var ch = make(chan int, 0)

func Printer(str string) {

	for _, data := range str {

		fmt.Printf(&quot;%c&quot;, data)

		time.Sleep(time.Second)

	}

	fmt.Printf(&quot;\n&quot;)

}

func person1() {

	//æ‰“å°å®Œéœ€è¦7ç§’é’Ÿ

	//åŠ³èµ„ä¸æ‰“å°å®Œæ˜¯ä¸ä¼šå¾€ç®¡é“ä¸­å¡æ•°æ®çš„ï¼Œé˜»å¡ä¸æ­»ä½ ä¸«çš„

	Printer(&quot;ä»Šç”Ÿæ³¨å®šæˆ‘çˆ±ä½ &quot;)

	//ç®­å¤´æŒ‡å‘ç®¡é“å†…éƒ¨ï¼Œå†™æ•°æ®

	//åœ¨æ‰“å®Œä»Šç”Ÿæ³¨å®šæˆ‘çˆ±ä½ ï¼ˆè€—æ—¶7ç§’é’Ÿï¼‰åï¼Œæ‰å†™å…¥æ•°æ®

	//è¯­æ³•ç‚¹â‘¡ï¼šå‘ç®¡é“é‡Œå†™æ•°æ®ï¼Œæ— è®ºè¯»å†™ï¼Œç®­å¤´åªèƒ½æœå·¦

	//è¯­æ³•ç‚¹â‘¤ï¼šå¦‚æœç®¡é“ç¼“å­˜å·²æ»¡ï¼Œåˆ™é˜»å¡ç­‰å¾…è‡³æœ‰äººå–å‡ºæ•°æ®è…¾å‡ºç©ºé—´ï¼Œå†å†™å…¥

	ch &lt;- 666

}

func person2() {

	//ç®­å¤´æŒ‡å‘ç®¡é“å¤–é¢ï¼Œä»£è¡¨ä»ç®¡é“ä¸­æ‹¿å‡ºæ•°æ®ï¼Œè¯»æ•°æ®

	//è¯­æ³•ç‚¹â‘¢ï¼šä»ç®¡ç†å–å‡ºæ•°æ®ï¼Œä½†ä¸ä¸æ¥æ”¶

	//è¯­æ³•ç‚¹â‘¥ï¼šç®¡é“é‡Œæ²¡æ•°æ®æ—¶ï¼Œé˜»å¡æ­»ç­‰

	&lt;-ch

	//è¯­æ³•ç‚¹â‘£ï¼šä»ç®¡ç†å–å‡ºæ•°æ®ï¼Œä¸”ä½¿ç”¨dataå˜é‡æ¥æ”¶

	//data:=&lt;-ch

	//fmt.Println(&quot;è¯»å‡ºæ•°æ®ï¼š&quot;,data)

	//ç»ˆäºå¦ˆçš„å¯ä»¥æ‰“å°äº†

	Printer(&quot;FUCKOFF&quot;)

}

func main() {

	go person1()

	go person2()

	//ä¸»åç¨‹èµ–ç€ä¸æ­»

	for {

		time.Sleep(time.Second)

	}

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
ä»Šç”Ÿæ³¨å®šæˆ‘çˆ±ä½ 
FUCKOFF</p>
</blockquote>

<hr />

<blockquote>
<p>é€šè¿‡channelå®ç°åŒæ­¥å’Œæ•°æ®äº¤äº’</p>

<pre><code>
package main

 

import (

    &quot;fmt&quot;

    &quot;time&quot;

)

 

func main() {

    //åˆ›å»ºæ— ç¼“å­˜ç®¡é“

    ch := make(chan string)

 

    //5ã€ä¸»åç¨‹ç»“æŸ

    defer fmt.Println(&quot;ä¸»åç¨‹ä¹Ÿç»“æŸ&quot;)

 

    //å­åç¨‹è´Ÿè´£å†™æ•°æ®

    go func() {

        //3ã€ç»“æŸä»»åŠ¡

        defer fmt.Println(&quot;å­åç¨‹è°ƒç”¨å®Œæ¯•&quot;)

 

        //1ã€ç¼“ç¼“æ‰“å°2æ¬¡åºå·

        for i := 0; i &lt; 2; i++ {

            fmt.Println(&quot;å­åç¨‹ i= &quot;, i)

            time.Sleep(time.Second)

        }

 

        //2ã€å‘ç®¡é“å‘é€æ•°æ®

        ch &lt;- &quot;æˆ‘æ˜¯å­åç¨‹ï¼Œå·¥ä½œå®Œæ¯•&quot;

    }()

 

    //4ã€é˜»å¡æ¥æ”¶

    str := &lt;-ch

    fmt.Println(&quot;str = &quot;, str)

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœ
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
å­åç¨‹ i=  0
å­åç¨‹ i=  1
å­åç¨‹è°ƒç”¨å®Œæ¯•
str =  æˆ‘æ˜¯å­åç¨‹ï¼Œå·¥ä½œå®Œæ¯•
ä¸»åç¨‹ä¹Ÿç»“æŸ
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<blockquote>
<p>æ— ç¼“å†²çš„channel</p>

<pre><code>package main

import (
	&quot;fmt&quot;

	&quot;time&quot;
)

func main() {

	//åˆ›å»ºä¸€ä¸ªæ— ç¼“å†²çš„ç®¡é“

	ch := make(chan int, 1)

	//é•¿åº¦0ï¼Œç¼“å­˜èƒ½åŠ›0

	fmt.Printf(&quot;len(ch) = %d, cap(ch)=%d\n&quot;, len(ch), cap(ch))

	go func() {

		//å‘ç®¡é“ä¸­å­˜å…¥0ï¼Œè¢«é˜»å¡ï¼Œå­˜å…¥1ï¼Œè¢«é˜»å¡ï¼Œå­˜å…¥2

		for i := 0; i &lt; 3; i++ {

			fmt.Println(&quot;å­åç¨‹: i = &quot;, i)

			ch &lt;- i

			fmt.Println(&quot;5ç§’ä»¥å†…è¢«æ‰“å°å‡ºæ¥ç»™æ°ç¥100ä¸‡ï¼&quot;)

		}

	}()

	//ç¡çœ 2ç§’

	time.Sleep(5 * time.Second)

	//è¯»å–0ï¼Œè¢«é˜»å¡ï¼Œè¯»å–1ï¼Œè¢«é˜»å¡ï¼Œè¯»å–2

	for i := 0; i &lt; 3; i++ {

		num := &lt;-ch

		fmt.Println(&quot;num = &quot;, num)

	}

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
len(ch) = 0, cap(ch)=1
å­åç¨‹: i =  0
5ç§’ä»¥å†…è¢«æ‰“å°å‡ºæ¥ç»™æ°ç¥100ä¸‡ï¼
å­åç¨‹: i =  1
num =  0
num =  1
5ç§’ä»¥å†…è¢«æ‰“å°å‡ºæ¥ç»™æ°ç¥100ä¸‡ï¼
å­åç¨‹: i =  2
5ç§’ä»¥å†…è¢«æ‰“å°å‡ºæ¥ç»™æ°ç¥100ä¸‡ï¼
num =  2
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<blockquote>
<p>æœ‰ç¼“å­˜çš„channel</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

func main() {
	//åˆ›å»º3ç¼“å­˜çš„ç®¡é“
	ch := make(chan int, 3)
	//é•¿åº¦0ï¼Œç¼“å­˜èƒ½åŠ›3ï¼ˆå³ä½¿æ²¡äººè¯»ï¼Œä¹Ÿèƒ½å†™å…¥3ä¸ªå€¼ï¼‰
	fmt.Printf(&quot;len(ch) = %d, cap(ch) = %d\n&quot;, len(ch), cap(ch))

	//ä¸€æ¬¡æ€§å­˜å…¥3ä¸ªï¼š012,3456789
	go func() {
		for i := 0; i &lt; 10; i++ {
			ch &lt;- i
			fmt.Printf(&quot;å­åç¨‹å­˜å…¥[%d]: len(ch) = %d, cap(ch) = %d\n&quot;, i, len(ch), cap(ch))
			//time.Sleep(1 * time.Second)
		}
	}()

	//time.Sleep(5 * time.Second)

	//ä¸€æ¬¡æ€§è¯»å–3ä¸ªï¼š012,345,678,9
	for i := 0; i &lt; 10; i++ {
		num := &lt;-ch
		fmt.Println(&quot;num = &quot;, num)
	}
	time.Sleep(1 * time.Nanosecond)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
len(ch) = 0, cap(ch) = 3
å­åç¨‹å­˜å…¥[0]: len(ch) = 0, cap(ch) = 3
å­åç¨‹å­˜å…¥[1]: len(ch) = 1, cap(ch) = 3
å­åç¨‹å­˜å…¥[2]: len(ch) = 2, cap(ch) = 3
å­åç¨‹å­˜å…¥[3]: len(ch) = 3, cap(ch) = 3
num =  0
num =  1
num =  2
num =  3
num =  4
å­åç¨‹å­˜å…¥[4]: len(ch) = 1, cap(ch) = 3
å­åç¨‹å­˜å…¥[5]: len(ch) = 0, cap(ch) = 3
å­åç¨‹å­˜å…¥[6]: len(ch) = 1, cap(ch) = 3
å­åç¨‹å­˜å…¥[7]: len(ch) = 2, cap(ch) = 3
å­åç¨‹å­˜å…¥[8]: len(ch) = 3, cap(ch) = 3
num =  5
num =  6
num =  7
num =  8
num =  9
å­åç¨‹å­˜å…¥[9]: len(ch) = 1, cap(ch) = 3
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<p>##å¹¶å‘æŠ€æœ¯4ï¼šåŒæ­¥è°ƒåº¦
&gt;ç­‰å¾…ç»„</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
	&quot;time&quot;
)

//ä¸»åç¨‹ç­‰å¾…å­åç¨‹å…¨éƒ¨ç»“æŸï¼šé€šè¿‡ç®¡é“é˜»å¡
func main0() {
	chanRets := make(chan int, 3)
	fmt.Println(len(chanRets), cap(chanRets))
	for i := 0; i &lt; 3; i++ {
		go func(index int) {
			ret := getFibonacci(index)
			chanRets &lt;- ret
			fmt.Println(index, ret)
		}(i)
	}

	for {
		if len(chanRets) == 3 {
			time.Sleep(time.Nanosecond)
			break
		}
	}
}

func main() {
	var wg sync.WaitGroup

	for i := 0; i &lt; 3; i++ {
		//ç­‰å¾…ç»„ä¸­åç¨‹æ•°+1(ä¸»åç¨‹ä¸­)
		wg.Add(1)

		go func(index int) {
			ret := getFibonacci(index)
			fmt.Println(index, ret)
			//ç­‰å¾…ç»„ä¸­åç¨‹æ•°-1(å­åç¨‹ä¸­)
			wg.Done()
		}(i)
	}

	//é˜»å¡è‡³ç­‰å¾…ç»„ä¸­çš„åç¨‹æ•°ä¸º0
	wg.Wait()

}

func getFibonacci(n int) int {
	x, y := 1, 1
	for i := 0; i &lt; n; i++ {
		x, y = y, x+y
	}
	&lt;-time.After(3 * time.Second)
	return x
}
</code></pre>

<hr />

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
0 1
1 1
2 2
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>äº’æ–¥é”æ¡ˆä¾‹1</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
	&quot;time&quot;
)

func main() {

	//å¿…é¡»ä¿è¯å¹¶å‘å®‰å…¨çš„æ•°æ®
	type Account struct {
		money float32
	}

	var wg sync.WaitGroup
	account := Account{1000}
	fmt.Println(account)

	//èµ„æºäº’æ–¥é”(è°æŠ¢åˆ°é”ï¼Œè°å…ˆè®¿é—®èµ„æºï¼Œå…¶ä»–äººé˜»å¡ç­‰å¾…)
	//å…¨å±€å°±è¿™ä¹ˆä¸€æŠŠé”ï¼Œè°å…ˆæŠ¢åˆ°è°æ“ä½œï¼Œå…¶ä»–äººè¢«é˜»å¡ç›´åˆ°é”é‡Šæ”¾
	var mt sync.Mutex

	//é“¶è¡Œå¡å–é’±
	wg.Add(1)
	go func() {
		//æ‹¿åˆ°äº’æ–¥é”
		mt.Lock()

		//åŠ é”çš„è®¿é—®
		fmt.Println(&quot;å–é’±å‰ï¼š&quot;, account.money)
		account.money -= 500
		time.Sleep(time.Nanosecond)
		fmt.Println(&quot;å–é’±åï¼š&quot;, account.money)
		wg.Done()

		//é‡Šæ”¾äº’æ–¥é”
		mt.Unlock()
	}()

	//å­˜æŠ˜å­˜é’±
	wg.Add(1)
	go func() {
		//æ‹¿åˆ°äº’æ–¥é”ï¼ˆå¦‚æœåˆ«äººå…ˆæŠ¢åˆ°ï¼Œåˆ™é˜»å¡ç­‰å¾…ï¼‰
		mt.Lock()

		fmt.Println(&quot;å­˜é’±å‰ï¼š&quot;, account.money)
		account.money += 500
		time.Sleep(time.Nanosecond)
		fmt.Println(&quot;å­˜é’±åï¼š&quot;, account.money)
		wg.Done()

		//é‡Šæ”¾äº’æ–¥é”
		mt.Unlock()
	}()

	wg.Wait()
}
</code></pre>
</blockquote>

<hr />

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
{1000}
å­˜é’±å‰ï¼š 1000
å­˜é’±åï¼š 1500
å–é’±å‰ï¼š 1500
å–é’±åï¼š 1000
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>äº’æ–¥é”æ¡ˆä¾‹2</p>
</blockquote>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
	&quot;time&quot;
)

//å¿…é¡»ä¿è¯å¹¶å‘å®‰å…¨çš„æ•°æ®
type Account struct {
	name  string
	money float32

	//å®šä¹‰è¯¥æ•°æ®çš„äº’æ–¥é”
	mt sync.Mutex
}

//æœ¬æ–¹æ³•ä¸èƒ½è¢«å¹¶å‘æ‰§è¡Œâ€”â€”å¹¶å‘å®‰å…¨çš„
func (a *Account) saveGet(amount float32) {
	//å…ˆå°†èµ„æºé”èµ·æ¥
	a.mt.Lock()

	//æ‰§è¡Œæ“ä½œ
	fmt.Println(&quot;æ“ä½œå‰ï¼š&quot;, a.money)
	a.money += amount
	fmt.Println(&quot;æ“ä½œåï¼š&quot;, a.money)
	&lt;-time.After(3 * time.Second)

	//é‡Šæ”¾èµ„æº
	a.mt.Unlock()
}

//æœ¬æ–¹æ³•å¯ä»¥è¢«å¹¶å‘æ‰§è¡Œâ€”â€”ä¸æ˜¯å¹¶å‘å®‰å…¨çš„,æ— æ­¤å¿…è¦
func (a *Account) getName() string {
	return a.name
}

func main() {
	a := Account{name: &quot;å¼ å…¨è›‹&quot;, money: 1000}

	var wg sync.WaitGroup

	wg.Add(1)
	go func() {
		//è°ƒç”¨ä¸€ä¸ªåŠ é”çš„æ–¹æ³•ï¼ˆåŒæ­¥ï¼‰
		a.saveGet(500)
		wg.Done()
	}()

	wg.Add(1)
	go func() {
		//è°ƒç”¨ä¸€ä¸ªåŠ é”çš„æ–¹æ³•ï¼ˆåŒæ­¥ï¼‰
		a.saveGet(-500)
		wg.Done()
	}()

	for i := 0; i &lt; 3; i++ {
		wg.Add(1)
		go func() {
			//è°ƒç”¨ä¸€ä¸ªæ™®é€šçš„æ²¡æœ‰è®¿é—®é”çš„æ–¹æ³•ï¼ˆå¼‚æ­¥ï¼‰
			fmt.Println(a.getName())
			wg.Done()
		}()
	}

	wg.Wait()
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
å¼ å…¨è›‹
å¼ å…¨è›‹
å¼ å…¨è›‹
æ“ä½œå‰ï¼š 1000
æ“ä½œåï¼š 1500
æ“ä½œå‰ï¼š 1500
æ“ä½œåï¼š 1000
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>é€šè¿‡ä¿¡å·é‡æ§åˆ¶å¹¶å‘æ•°</p>

<pre><code>package main
 
import (
    &quot;fmt&quot;
    &quot;time&quot;
    &quot;sync&quot;
)
 
/*ä¿¡å·é‡ï¼šé€šè¿‡æ§åˆ¶ç®¡é“çš„â€œå¸¦å®½â€ï¼ˆç¼“å­˜èƒ½åŠ›ï¼‰æ§åˆ¶å¹¶å‘æ•°*/
 
func main() {
 
    //å®šä¹‰ä¿¡å·é‡ä¸º5â€œå¸¦å®½â€çš„ç®¡é“
    sema = make(chan int, 5)
 
    var wg sync.WaitGroup
    for i := 0; i &lt; 100; i++ {
        wg.Add(1)
        go func(index int) {
            ret := getPingfangshu(index)
            fmt.Println(index, ret)
            wg.Done()
        }(i)
    }
    wg.Wait()
}
 
//è¯¥å‡½æ•°åªå…è®¸5å¹¶å‘æ‰§è¡Œ
var sema chan int
func getPingfangshu(i int) int {
    sema &lt;- 1
    &lt;-time.After(2 * time.Second)
    &lt;- sema
    return i
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
8 8
2 2
5 5
6 6
0 0
4 4
3 3
1 1
7 7
37 37
10 10
9 9
13 13
12 12
11 11
17 17
18 18
14 14
16 16
15 15
23 23
22 22
20 20
19 19
21 21
24 24
26 26
25 25
27 27
28 28
33 33
30 30
32 32
31 31
29 29
36 36
52 52
38 38
34 34
35 35
39 39
43 43
40 40
41 41
42 42
48 48
44 44
47 47
46 46
45 45
60 60
53 53
51 51
49 49
50 50
54 54
55 55
56 56
58 58
57 57
61 61
62 62
59 59
63 63
65 65
64 64
69 69
66 66
68 68
67 67
74 74
72 72
71 71
73 73
70 70
83 83
76 76
77 77
75 75
78 78
82 82
79 79
80 80
81 81
87 87
86 86
89 89
90 90
84 84
85 85
93 93
91 91
92 92
94 94
88 88
96 96
98 98
97 97
99 99
95 95
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<p>##æ¥å£</p>

<hr />

<p>æ¥å£æ˜¯æ–¹æ³•ä½“çš„é›†åˆï¼Œæ¥å£æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

//å®šä¹‰interface
type VowelsFinder interface {
	FindVowels() []rune
}

type MyString string

//å®ç°æ¥å£
func (ms MyString) FindVowels() []rune {
	var vowels []rune
	for _, rune := range ms {
		if rune == 'a' || rune == 'e' || rune == 'i' || rune == 'o' || rune == 'u' {
			vowels = append(vowels, rune)
		}
	}
	return vowels
}

func main() {
	name := MyString(&quot;Sam Anderson&quot;) // ç±»å‹è½¬æ¢
	var v VowelsFinder               // å®šä¹‰ä¸€ä¸ªæ¥å£ç±»å‹çš„å˜é‡
	v = name
	fmt.Printf(&quot;Vowels are %c&quot;, v.FindVowels())

}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºåå•ï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
Vowels are [a e o]æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>å‡è®¾æŸå…¬å¸æœ‰ä¸¤ä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªæ™®é€šå‘˜å·¥å’Œä¸€ä¸ªé«˜çº§å‘˜å·¥ï¼Œ ä½†æ˜¯åŸºæœ¬è–ªèµ„æ˜¯ç›¸åŒçš„ï¼Œé«˜çº§å‘˜å·¥å¤šæ‹¿å¥–é‡‘ã€‚è®¡ç®—å…¬å¸ä¸ºå‘˜å·¥çš„æ€»å¼€æ”¯ã€‚</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

// è–ªèµ„è®¡ç®—å™¨æ¥å£
type SalaryCalculator interface {
	CalculateSalary() int
}

// æ™®é€šæŒ–æ˜æœºå‘˜å·¥
type Contract struct {
	empId    int
	basicpay int
}

// æœ‰è“ç¿”æŠ€æ ¡è¯çš„å‘˜å·¥
type Permanent struct {
	empId    int
	basicpay int
	jj       int // å¥–é‡‘
}

func (p Permanent) CalculateSalary() int {
	return p.basicpay + p.jj
}

func (c Contract) CalculateSalary() int {
	return c.basicpay
}

// æ€»å¼€æ”¯
func totalExpense(s []SalaryCalculator) {
	expense := 0
	for _, v := range s {
		expense = expense + v.CalculateSalary()
	}
	fmt.Printf(&quot;æ€»å¼€æ”¯ $%d&quot;, expense)
}

func main() {
	pemp1 := Permanent{1, 3000, 10000}
	pemp2 := Permanent{2, 3000, 20000}
	cemp1 := Contract{3, 3000}
	employees := []SalaryCalculator{pemp1, pemp2, cemp1}
	totalExpense(employees)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
æ€»å¼€æ”¯ $39000æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<p>##æ¥å£çš„å†…éƒ¨å®ç°
&gt;ä¸€ä¸ªæ¥å£å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”±ä¸€ä¸ªå…ƒç»„ï¼ˆç±»å‹ï¼Œå€¼ï¼‰åœ¨å†…éƒ¨è¡¨ç¤ºçš„ã€‚typeæ˜¯æ¥å£çš„åŸºç¡€å…·ä½“ç±»å‹ï¼Œvalueæ˜¯å…·ä½“ç±»å‹çš„å€¼ã€‚</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

type Test interface {
	Tester()
}

type MyFloat float64

func (m MyFloat) Tester() {
	fmt.Println(m)
}

func describe(t Test) {
	fmt.Printf(&quot;Interface ç±»å‹ %T ,  å€¼ï¼š %v\n&quot;, t, t)
}

func main() {
	var t Test
	f := MyFloat(89.7)
	t = f
	describe(t)
	t.Tester()
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
Interface ç±»å‹ main.MyFloat ,  å€¼ï¼š 89.7
89.7
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<p>##ç©ºæ¥å£
&gt;å…·æœ‰0ä¸ªæ–¹æ³•çš„æ¥å£ç§°ä¸ºç©ºæ¥å£ã€‚å®ƒè¡¨ç¤ºä¸ºinterface {}ã€‚ç”±äºç©ºæ¥å£æœ‰0ä¸ªæ–¹æ³•ï¼Œæ‰€æœ‰ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£ã€‚</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

func describe(i interface{}) {
	fmt.Printf(&quot;Type = %T, value = %v\n&quot;, i, i)
}

func main() {
	// ä»»ä½•ç±»å‹çš„å˜é‡ä¼ å…¥éƒ½å¯ä»¥

	s := &quot;Hello World&quot;
	i := 55
	strt := struct {
		name string
	}{
		name: &quot;Naveen R&quot;,
	}
	describe(s)
	describe(i)
	describe(strt)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
Type = string, value = Hello World
Type = int, value = 55
Type = struct { name string }, value = {Naveen R}
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<p>##ç±»å‹æ–­è¨€
&gt;ç±»å‹æ–­è¨€ç”¨äºæå–æ¥å£çš„åŸºç¡€å€¼ï¼Œè¯­æ³•ï¼ši.(T)</p>

<pre><code>package main

import (
	&quot;fmt&quot;
)

func assert(i interface{}) {
	s := i.(int)
	fmt.Println(s)
}

func main() {
	var s interface{} = 55
	assert(s)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
55
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<p>å¯ä»¥å°†ä¸Šé¢æ”¹ä¸º</p>

<pre><code>package main

import (  
    &quot;fmt&quot;
)

func assert(i interface{}) {  
    v, ok := i.(int)
    fmt.Println(v, ok)
}
func main() {  
    var s interface{} = 56
    assert(s)
    var i interface{} = &quot;Steven Paul&quot;
    assert(i)
}
</code></pre>

<hr />

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
56 true
0 false
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<pre><code>package main

import (
	&quot;fmt&quot;
)

func assert(i interface{}) {
	s := i.(string)
	fmt.Println(s)
}

func main() {
	var s interface{} = 55
	assert(s)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
panic: interface conversion: interface {} is int, not string</p>

<hr />

<p>##ç±»å‹åˆ¤æ–­
&gt;ç±»å‹åˆ¤æ–­çš„è¯­æ³•ç±»ä¼¼äºç±»å‹æ–­è¨€ã€‚åœ¨ç±»å‹æ–­è¨€çš„è¯­æ³•i.ï¼ˆtypeï¼‰ä¸­ï¼Œç±»å‹typeåº”è¯¥ç”±ç±»å‹è½¬æ¢çš„å…³é”®å­—typeæ›¿æ¢ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒå¦‚ä½•åœ¨ä¸‹é¢çš„ç¨‹åºä¸­èµ·ä½œç”¨ã€‚</p>

<pre><code>package main

import (  
    &quot;fmt&quot;
)

func findType(i interface{}) {  
    switch i.(type) {
    case string:
        fmt.Printf(&quot;String: %s\n&quot;, i.(string))
    case int:
        fmt.Printf(&quot;Int: %d\n&quot;, i.(int))
    default:
        fmt.Printf(&quot;Unknown type\n&quot;)
    }
}
func main() {  
    findType(&quot;Naveen&quot;)
    findType(77)
    findType(89.98)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
String: Naveen
Int: 77
Unknown type
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />

<blockquote>
<p>è¿˜å¯ä»¥å°†ç±»å‹ä¸æ¥å£è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªç±»å‹å¹¶ä¸”è¯¥ç±»å‹å®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œé‚£ä¹ˆå¯ä»¥å°†å®ƒä¸å®ƒå®ç°çš„æ¥å£è¿›è¡Œæ¯”è¾ƒã€‚</p>

<pre><code>package main

import &quot;fmt&quot;

type Describer interface {  
    Describe()
}
type Person struct {  
    name string
    age  int
}

func (p Person) Describe() {  
    fmt.Printf(&quot;%s is %d years old&quot;, p.name, p.age)
}

func findType(i interface{}) {  
    switch v := i.(type) {
    case Describer:
        v.Describe()
    default:
        fmt.Printf(&quot;unknown type\n&quot;)
    }
}

func main() {  
    findType(&quot;Naveen&quot;)
    p := Person{
        name: &quot;Naveen R&quot;,
        age:  25,
    }
    findType(p)
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
unknown type
Naveen R is 25 years oldæˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>
</blockquote>

<hr />

<p>##å€¼å¯è¢«ä¿®æ”¹çš„æ¡ä»¶ä¹‹ä¸€ï¼šå¯è¢«å¯»å€</p>

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;reflect&quot;
)

func main() {
	var a int = 1024
	valueofA := reflect.ValueOf(a)
	valueofA.SetInt(1)
	fmt.Println(valueofA.Int())
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœ:
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
panic: reflect: reflect.Value.SetInt using unaddressable value</p>

<hr />

<pre><code>package main

import (
	&quot;fmt&quot;
	&quot;reflect&quot;
)

func main() {
	var a int = 1024
	valueofA := reflect.ValueOf(&amp;a)
	valueofA = valueofA.Elem()
	valueofA.SetInt(1)
	fmt.Println(valueofA.Int())
}
</code></pre>

<p>//ç¨‹åºè¾“å‡ºç»“æœï¼š
c:/go/bin/go.exe build [D:/Godata/src/main]
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.
D:/Godata/src/main/main.exe  [D:/Godata/src/main]
1
æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.</p>

<hr />


    </main>
  </div>
  <footer>
    <div class="footer-wrapper">
      <p>Made with â¤ï¸ &mdash; Powered by <a href="https://gohugo.io/" target="_blank" rel="external">Hugo</a> and the <a href="https://github.com/bjacquemet/personal-web" target='_blank' rel="external">Personal Web</a> theme.</p>
      <p></p>
    </div>
  </footer>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:500,600|Raleway:400,400i,600" rel="stylesheet">
  
</body>
</html>
